TODO: `cargo test` has a stack overflow currently. The criterion benchmark and `cargo run --release` work.

